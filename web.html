<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>网易云课堂</title>
	<!-- <link rel="stylesheet" type="text/css" href="./css/style.css"/> -->
	<link rel="stylesheet" type="text/css" href="./css/web.css"/>
	<script src="./js/util.js"></script>
	<script src="./js/slider.js"></script>
	
</head>
<body>
	<div class="wrap">	
		<div id="cookie">
			<p>网易云课堂微专业,帮助你掌握专业技能,令你求职加薪多一份独特优势! <span><a href="#">立即查看&gt</a></span>
			</p>
			<div class="Dcare"><i></i>不再关注</div>
		</div>	

		<div class="head">
			
			<div class="introduce">
				<ul>
					<li class="icon"></li>
					<li><a href="http://www.icourse163.org/">中国大学MOOC</a></li>
					<li><a href="http://study.163.com/">网易云课堂</a></li>
					<li><a href="http://open.163.com/">网易公开课</a></li>

				</ul>
				
				<p>EDU | 网易教育产品部</p>
				<button class="attention">+ 关注</button>
				<span class="fan">粉丝 45</span>

			</div>
		</div>

		<div class="show">
			<!-- 这我轮播图 -->
			<div id="Lunbo">
				<!-- <img src="./img/banner1.jpg" title="轮播"> -->
				<ul class="m-cursor">
				  <li class='cursor'></li>
				  <li class='cursor'></li>
				  <li class='cursor'></li>
				</ul>
				<!-- <img src="./banner1.jpg" alt="知识" > -->
				<!-- <img src="" alt="教育">
				<img src="" alt="改变"> -->
			</div>
			<!-- 这是网易三大网站的介绍 -->
			<div class="three_products">
				<div class="public_class">
				
					<h2>网易公开课</h2>
					<p>推出国内名校公开课，涉及广泛的学科，名校老师认真讲解深度剖析，网易视频公开课频道搭建起强有力的网络视频教学平台。</p>
					<a href="http://open.163.com/">了解更多&gt</a>
				</div>
				<div class="cloud_class">
				
					<h2>云课堂</h2>
					<p>网易旗下大型在线学习平台，该平台面向学习者提供海量免费、优质课程,创新的个性化学习体验，自由开放的交流互动环境。</p>
					<a href="http://study.163.com/">了解更多&gt</a>
				
				</div>
				<div class="china_mooc">
				
					<h2>中国大学MOOC</h2>
					<p>是爱课程网携手云课堂打造的在线学习平台，每一个有提升愿望的人,都可以在这里学习中国最好的大学课程，学完还能获得认证证书。</p>
					<a href="http://www.icourse163.org/">了解更多&gt</a>
				</div>
			</div>
		</div>

		<!-- 这是五张图片的 -->
		<div class="job_photo">
					<img src="./img/sport.jpg" alt="运动场">
					<img src="./img/workPlace.jpg" alt="工作坊">
					<img src="./img/rest.jpg" alt="休息">
					<img src="./img/workPlace2.jpg" alt="图片">
					<img src="./img/eatting.jpg" alt="零食">
		</div>

		<!-- 这是选项卡 -->
		<div class="Language">
			<div class="left_wrap">
				<ul class="two_Tab">
					<li id="product_design" class="change_Tab">产品设计</li>
					<li id="program">编程语言</li>
				</ul>
				<div class="show_class">
					<ul id="all_course">
						<li class="coure_show">
							<img  class="transmit">
							<p class="name"></p>
							<h6 class="type"></h6>
							<span class="number"></span>
							<i class="price"></i>
						</li>
						<li class="coure_show">
							<img  class="transmit">
							<p class="name"></p>
							<h6 class="type"></h6>
							<span class="number"></span>
							<i class="price"></i>
						</li>
						<li class="coure_show">
							<img  class="transmit">
							<p class="name"></p>
							<h6 class="type"></h6>
							<span class="number"></span>
							<i class="price"></i>
						</li>
						<li class="coure_show">
							<img  class="transmit">
							<p class="name"></p>
							<h6 class="type"></h6>
							<span class="number"></span>
							<i class="price"></i>
						</li>
						<li class="coure_show">
							<img  class="transmit">
							<p class="name"></p>
							<h6 class="type"></h6>
							<span class="number"></span>
							<i class="price"></i>
						</li>
						<li class="coure_show">
							<img  class="transmit">
							<p class="name"></p>
							<h6 class="type"></h6>
							<span class="number"></span>
							<i class="price"></i>
						</li>
						<li class="coure_show">
							<img  class="transmit">
							<p class="name"></p>
							<h6 class="type"></h6>
							<span class="number"></span>
							<i class="price"></i>
						</li>
						<li class="coure_show">
							<img  class="transmit">
							<p class="name"></p>
							<h6 class="type"></h6>
							<span class="number"></span>
							<i class="price"></i>
						</li>
						<li class="coure_show">
							<img  class="transmit">
							<p class="name"></p>
							<h6 class="type"></h6>
							<span class="number"></span>
							<i class="price"></i>
						</li>
						<li class="coure_show">
							<img  class="transmit">
							<p class="name"></p>
							<h6 class="type"></h6>
							<span class="number"></span>
							<i class="price"></i>
						</li>
						<li class="coure_show">
							<img  class="transmit">
							<p class="name"></p>
							<h6 class="type"></h6>
							<span class="number"></span>
							<i class="price"></i>
						</li>
						<li class="coure_show">
							<img  class="transmit">
							<p class="name"></p>
							<h6 class="type"></h6>
							<span class="number"></span>
							<i class="price"></i>
						</li>
						<li class="coure_show">
							<img  class="transmit">
							<p class="name"></p>
							<h6 class="type"></h6>
							<span class="number"></span>
							<i class="price"></i>
						</li>
						<li class="coure_show">
							<img  class="transmit">
							<p class="name"></p>
							<h6 class="type"></h6>
							<span class="number"></span>
							<i class="price"></i>
						</li>
						<li class="coure_show">
							<img  class="transmit">
							<p class="name"></p>
							<h6 class="type"></h6>
							<span class="number"></span>
							<i class="price"></i>
						</li>
						<li class="coure_show">
							<img  class="transmit">
							<p class="name"></p>
							<h6 class="type"></h6>
							<span class="number"></span>
							<i class="price"></i>
						</li>
						<li class="coure_show">
							<img  class="transmit">
							<p class="name"></p>
							<h6 class="type"></h6>
							<span class="number"></span>
							<i class="price"></i>
						</li>
						<li class="coure_show">
							<img  class="transmit">
							<p class="name"></p>
							<h6 class="type"></h6>
							<span class="number"></span>
							<i class="price"></i>
						</li>
						<li class="coure_show">
							<img  class="transmit">
							<p class="name"></p>
							<h6 class="type"></h6>
							<span class="number"></span>
							<i class="price"></i>
						</li>
						<li class="coure_show">
							<img  class="transmit">
							<p class="name"></p>
							<h6 class="type"></h6>
							<span class="number"></span>
							<i class="price"></i>
						</li>
					</ul>
				</div>
				<div class="change_list">
					<ul>
						<li>1</li>
						<li>2</li>
						<li>3</li>
						<li>4</li>
						<li>5</li>
						<li>6</li>
						<li>7</li>
						<li>8</li>
						<li>&gt;</li>
					</ul>
				</div>
			</div>
			<div class="right_wrap">
				<div class="intro">
					<h3>机构介绍</h3>
					<div class="show_video">
					<p>观看下面的视频来了解吧：</p>
					<img src="./img/video.jpg" alt="网易" id="videoIn"/>
					</div>
				</div>
				<div class="ranking_list">
					<h3>最热排行</h3>
				<div class="two_list">	
					<ul class="list">
						<li>
							<img class="ptoto-load" />
							<h4 class="title"></h4>
							<span class="_learner"></span>
						</li>
						<li>	
							<img class="ptoto-load"  />
							<h4 class="title"></h4>
							<span class="_learner"></span>
						</li>
						<li>
							<img class="ptoto-load"  />
							<h4 class="title"></h4>
							<span class="_learner"></span>
						</li>
						<li>
							<img class="ptoto-load"  />
							<h4 class="title"></h4>
							<span class="_learner"></span>
						</li>
						<li>
							<img class="ptoto-load"  />
							<h4 class="title"></h4>
							<span class="_learner"></span>
						</li>
						<li>
							<img class="ptoto-load"  />
							<h4 class="title"></h4>
							<span class="_learner"></span>
						</li>
						<li>
							<img class="ptoto-load"  />
							<h4 class="title"></h4>
							<span class="_learner"></span>
						</li>
						<li>
							<img class="ptoto-load"  />
							<h4 class="title"></h4>
							<span class="_learner"></span>
						</li>
						<li>
							<img class="ptoto-load"  />
							<h4 class="title"></h4>
							<span class="_learner"></span>
						</li>
						<li>
							<img class="ptoto-load"  />
							<h4 class="title"></h4>
							<span class="_learner"></span>
						</li>
						<li>
							<img class="ptoto-load"  />
							<h4 class="title"></h4>
							<span class="_learner"></span>
						</li>
						<li>
							<img class="ptoto-load"  />
							<h4 class="title"></h4>
							<span class="_learner"></span>
						</li>
						<li>
							<img class="ptoto-load"  />
							<h4 class="title"></h4>
							<span class="_learner"></span>
						</li>
						<li>
							<img class="ptoto-load"  />
							<h4 class="title"></h4>
							<span class="_learner"></span>
						</li>
						<li>
							<img class="ptoto-load"  />
							<h4 class="title"></h4>
							<span class="_learner"></span>
						</li>
						<li>
							<img class="ptoto-load"  />
							<h4 class="title"></h4>
							<span class="_learner"></span>
						</li>
						<li>
							<img class="ptoto-load"  />
							<h4 class="title"></h4>
							<span class="_learner"></span>
						</li>
						<li>
							<img class="ptoto-load"  />
							<h4 class="title"></h4>
							<span class="_learner"></span>
						</li>
						<li>
							<img class="ptoto-load"  />
							<h4 class="title"></h4>
							<span class="_learner"></span>
						</li>
						<li>
							<img class="ptoto-load"  />
							<h4 class="title"></h4>
							<span class="_learner"></span>
						</li>
					</ul>
					</div>
				</div>
			</div>
		</div>

		<!-- 这是底部页面 -->
		<div class="foot">
			<div class="foot-left">
				<p id="logo">EDU | 网易教育产品部</p>
				<p>©2014 icourse163.org 浙ICP备08114786号-1</p>
				<p>icourses.cn 京ICP备12020869</p>
			</div>
			<div class="foot-right three">
				<p class="">更多:</p>
				<a href="#">常见问题</a>
				<a href="#">意见反馈</a>
			</div>
			<div class="foot-right two">
			  <p>我们:</p>
			  <a href="#">关于</a>
			  <a href="#">联系</a>
			  <a href="#">关注</a>
			</div>
			<div class="foot-right one">
			 <p>友情链接：</p>
			 <a href="http://open.163.com/">网易公开课</a>
			 <a href="http://study.163.com/">网易云课堂</a>
			 <a href="http://www.icourse163.org/">中国大学MOOC</a>
			</div>
		</div>
	</div>
	<script src="./js/web.js"></script>
	<script src="./js/ranking.js"></script>
	<script>
	//使用cookie删除的div
		
		var care = document.querySelector('.Dcare');
		care.addEventListener('click',diappeared,false);
		function diappeared(){
			var cookie = document.getElementById('cookie');
			cookie.style.display = "none";
		}
	//轮播图代码
		var $ = function( selector ){
			//变成真正的数组
		  return [].slice.call(document.querySelectorAll(selector));
		};


		var cursors = $('.cursor');

		// forEach要去弄懂
		cursors.forEach(function(cursor, index){
		  cursor.addEventListener('click', function(){
		    slider.nav(index);//添加一个监听事件执行相应的函数
		  })
		}) 

		var slider = new Slider({
		  //视口容器
		  container: document.getElementById('Lunbo'),
		  // 图片列表
		  images: [
		    "./img/banner1.jpg",
		    "./img/banner2.jpg",
		    // "./imgs/pic03.jpg",
		    // "./imgs/pic04.jpg",
		    // "./imgs/pic05.jpg",
		    "./img/banner3.jpg"
		  ]//作为一个数组传到勒div里面去

		  // 是否允许拖拽
		  // drag: true
		});

		//通过监听`nav`事件来完成额外逻辑
		//--------------
		slider.on('nav', function( ev ){

		  var pageIndex = ev.pageIndex;//这个pageIndex参数是哪里来的

		  cursors.forEach(function(cursor, index){

		    if(index === pageIndex ){

		      cursor.className = 'z-active';

		    }else{
		      cursor.className = '';
		    }
		  })
		})

		// // 3s 自动轮播
		var timer = setInterval(function(){
		  // 下一页
		  slider.next();
		},5000);
		
		// 直接跳到第二页
		 slider.nav(1);
		 
		//这视频弹窗
		var videoNode = '<div class="modal">\
		<div class="video_modal">\
		<div class="icon_"></div>\
			<h3>请观看下面视频</h3>\
			<video src="http://mov.bn.netease.com/open-movie/nos/mp4/2014/12/30/SADQ86F5S_shd.mp4" controls="controls"></video>\
		</div>\
		</div>';

		function html2Node(str){
			var container = document.createElement('div');
			container.innerHTML = str;
			return container.children[0];
		}
		//这里的类名是要改的
		var vNode = html2Node(videoNode);

		var videoIn = document.getElementById('videoIn');

		videoIn.addEventListener('click',function(){
			document.body.appendChild(vNode);
			console.log(document.querySelector('.icon_'));
			document.querySelector('.icon_').onclick=function(){
				document.body.removeChild(vNode);
			}	
		},false);
		

		//通过Ajax获取的数据来给img标签赋予图片
		var ul = document.getElementById('all_course');
		var url1 = 'http://study.163.com/webDev/couresByCategory.htm?pageNo=1&psize=20&type=10';
		var url2 = 'http://study.163.com/webDev/couresByCategory.htm?pageNo=1&psize=20&type=20';
		getAjax(url1);
		
		//封装AJax的函数
		function getAjax(url){
			var xhr = new XMLHttpRequest();
			xhr.onreadystatechange = function(){
			if(xhr.readyState == 4 ){
					if ((xhr.status >= 200 && xhr.status < 300) || xhr.status == 304){
				//json转换为对象
				var clourse = JSON.parse(xhr.responseText);	

				//通过对象方法过滤不要的属性为JSON
				var filter = JSON.stringify(clourse.list,["Id","name","bigPhotoUrl","middlePhotoUrl","smallPhotoUrl","provider","learnerCount","price","categoryName","description"],5);

				//最后把JSON转换回来
				var backme = JSON.parse(filter);
				
				someFunction(backme);//这是很严重的问题
			} else{
				alert("Requset was unsuccessful: "+ xhr.status);
			  }
			}	
		};
		xhr.open('GET',url,true);
		xhr.send(null);

		}
		//执行20个节点生成
		function someFunction(arr){
			console.log(arr);
			// var templete = '<li class="coure_show">\
			// 				<img  class="transmit">\
			// 				<p class="name"></p>\
			// 				<h6 class="type"></h6>\
			// 				<span class="number"></span>\
			// 				<i class="price"></i>\
			// 			</li>';
			var i = 20;

			for( i=0; i<20; i++){
				// ul.innerHTML += templete;
				document.querySelectorAll('.transmit')[i].src=arr[i].bigPhotoUrl;
				document.querySelectorAll('.name')[i].innerHTML=
				arr[i].name;
				document.querySelectorAll('.type')[i].innerHTML=
				" "+arr[i].categoryName;
				document.querySelectorAll('.number')[i].innerHTML=arr[i].learnerCount;
				if (arr[i].price == 0){
					document.querySelectorAll('.price')[i].innerHTML= "免费";
				} else{
					document.querySelectorAll('.price')[i].innerHTML=arr[i].price;
				}
				
		 	}
		   				
			}
	
	</script>
</body>
</html>